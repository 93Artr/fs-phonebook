{"version":3,"sources":["services/contacts.js","components/Button.js","components/PersonForm.js","components/Notification.js","components/Persons.js","components/Filter.js","App.js","index.js"],"names":["baseUrl","exportedObject","getAll","axios","get","then","response","data","create","newObject","post","update","id","put","delContact","delete","Button","handler","text","onClick","PersonForm","newName","handleNewName","newNumber","handleNumber","handleSubmit","className","placeholder","value","onChange","Notification","message","status","notifyStyle","color","fontSize","borderStyle","borderRadius","padding","marginBottom","marginTop","width","marginLeft","marginRight","borderColor","style","Persons","persons","nameFilter","handleDelete","listStyle","filter","person","name","toLowerCase","includes","map","number","Filter","handleFilter","App","useState","setPersons","setNewName","setNumber","setFilter","notifyMessage","setNotifyMessage","notifyStatus","setNotifyStatus","useEffect","contactService","contacts","textAlign","margin","background","paddingTop","paddingBottom","maxWidth","border","borderWidth","boxShadow","e","target","preventDefault","personExists","find","el","contactObject","window","confirm","returnedContact","setTimeout","concat","catch","error","console","log","currentPerson","_","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c11d0d03.chunk.js","sourcesContent":["import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst create = (newObject) => {\r\n  const request = axios.post(baseUrl, newObject);\r\n  // console.log(request, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\r\n  // console.log(request, newObject);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst delContact = (id) => {\r\n  const request = axios.delete(`${baseUrl}/${id}`);\r\n  return request.then((response) => response.data);\r\n};\r\n\r\nconst exportedObject = {\r\n  getAll,\r\n  create,\r\n  update,\r\n  delContact,\r\n};\r\n\r\nexport default exportedObject;\r\n","import React from 'react';\r\n\r\nconst Button = ({ handler, text }) => {\r\n  return <button onClick={handler}>{text}</button>;\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport Button from \"./Button\";\r\n\r\nconst PersonForm = ({\r\n  newName,\r\n  handleNewName,\r\n  newNumber,\r\n  handleNumber,\r\n  handleSubmit,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <form className=\"form-add\">\r\n        <div>\r\n          <input placeholder=\"Name:\" value={newName} onChange={handleNewName} />\r\n        </div>\r\n        <div>\r\n          <input\r\n            placeholder=\"Number:\"\r\n            value={newNumber}\r\n            onChange={handleNumber}\r\n          />\r\n        </div>\r\n        <div>\r\n          <Button handler={handleSubmit} text=\"Add\" />\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Notification = ({ message, status }) => {\r\n  if (message === null) {\r\n    return null;\r\n  }\r\n\r\n  const notifyStyle = {\r\n    color: 'green',\r\n    fontSize: 20,\r\n    borderStyle: 'solid',\r\n    borderRadius: 8,\r\n    padding: 10,\r\n    marginBottom: 10,\r\n    marginTop: 0,\r\n    width: '80%',\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n  };\r\n\r\n  if (status === 'success') {\r\n    notifyStyle.color = 'green';\r\n    notifyStyle.borderColor = 'green';\r\n  } else if (status === 'error') {\r\n    notifyStyle.color = 'red';\r\n    notifyStyle.borderColor = 'red';\r\n  }\r\n\r\n  return <div style={notifyStyle}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import React from 'react';\r\nimport Button from './Button';\r\n\r\nconst Persons = ({ persons, nameFilter, handleDelete }) => {\r\n  const personsStyle = {\r\n    listStyle: 'none',\r\n  };\r\n  return (\r\n    <div>\r\n      <ul style={personsStyle}>\r\n        {persons\r\n          .filter(person =>\r\n            person.name.toLowerCase().includes(nameFilter.toLowerCase())\r\n          )\r\n          .map(person => (\r\n            <li key={person.name}>\r\n              {person.name} {person.number}{' '}\r\n              <Button handler={() => handleDelete(person.id)} text=\"delete\" />\r\n            </li>\r\n          ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Persons;\r\n","import React from 'react';\r\n\r\nconst Filter = ({ nameFilter, handleFilter }) => {\r\n  return (\r\n    <div>\r\n      filter shown with <input value={nameFilter} onChange={handleFilter} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Filter;\r\n","import React, { useState, useEffect } from \"react\";\nimport contactService from \"./services/contacts\";\nimport PersonForm from \"./components/PersonForm\";\nimport Notification from \"./components/Notification\";\nimport Persons from \"./components/Persons\";\nimport Filter from \"./components/Filter\";\n\nconst App = () => {\n  const mainHeader = {\n    textAlign: \"center\",\n    margin: \"auto\",\n    background: \"cadetblue\",\n    marginTop: 0,\n    marginBottom: 0,\n    paddingTop: 10,\n    paddingBottom: 5,\n    color: \"white\",\n  };\n  const appStyle = {\n    textAlign: \"center\",\n    maxWidth: \"80%\",\n    width: \"50rem\",\n    margin: \"auto\",\n    marginTop: 40,\n    paddingTop: 20,\n    paddingBottom: 20,\n    border: \"solid\",\n    borderColor: \"gray\",\n    borderRadius: 20,\n    borderWidth: 1,\n    boxShadow: \"1px 1px 2px gray\",\n  };\n\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNumber] = useState(\"\");\n  const [nameFilter, setFilter] = useState(\"\");\n  const [notifyMessage, setNotifyMessage] = useState(null);\n  const [notifyStatus, setNotifyStatus] = useState(\"success\");\n\n  useEffect(() => {\n    // console.log('effect');\n    contactService.getAll().then((contacts) => {\n      // console.log(contacts);\n      setPersons(contacts);\n    });\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const personExists = persons.find((el) => el.name === newName);\n\n    const contactObject = {\n      name: newName,\n      number: newNumber,\n    };\n\n    if (personExists) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace the old number with a new one?`\n        )\n      ) {\n        contactService\n          .update(personExists.id, contactObject)\n          .then((returnedContact) => {\n            setNewName(\"\");\n            setNumber(\"\");\n            setNotifyStatus(\"success\");\n            setNotifyMessage(`${newName} has been updated`);\n            setTimeout(() => {\n              setNotifyMessage(null);\n            }, 5000);\n            setPersons(\n              persons.map((person) =>\n                person.id !== personExists.id ? person : returnedContact\n              )\n            );\n          });\n      }\n      return;\n    }\n\n    contactService\n      .create(contactObject)\n      .then((returnedContact) => {\n        // console.log(returnedContact);\n        setNotifyStatus(\"success\");\n        setNotifyMessage(`${newName} has been added`);\n        setTimeout(() => {\n          setNotifyMessage(null);\n        }, 5000);\n        setPersons(persons.concat(returnedContact));\n        setNewName(\"\");\n        setNumber(\"\");\n      })\n      .catch((error) => {\n        console.log(error.response.data.error);\n        setNotifyStatus(\"error\");\n        setNotifyMessage(\n          `Information of ${newName} couldn't be added. ${error.response.data.error}`\n        );\n        setTimeout(() => {\n          setNotifyMessage(null);\n        }, 5000);\n      });\n  };\n\n  const handleNewName = (e) => setNewName(e.target.value);\n\n  const handleNumber = (e) => setNumber(e.target.value);\n\n  const handleFilter = (e) => setFilter(e.target.value);\n\n  const handleDelete = (id) => {\n    // console.log(id);\n    const currentPerson = persons.find((person) => person.id === id).name;\n    if (window.confirm(`Delete ${currentPerson}`)) {\n      contactService\n        .delContact(id)\n        .then((_) => {\n          setNotifyStatus(\"success\");\n          setNotifyMessage(`${currentPerson} has been removed`);\n          setTimeout(() => {\n            setNotifyMessage(null);\n          }, 5000);\n          setPersons(persons.filter((person) => person.id !== id));\n        })\n        .catch((error) => {\n          setNotifyStatus(\"error\");\n          setNotifyMessage(\n            `Information of ${currentPerson} has already been removed.`\n          );\n          setTimeout(() => {\n            setNotifyMessage(null);\n          }, 5000);\n          setPersons(persons.filter((person) => person.id !== id));\n        });\n    }\n  };\n\n  return (\n    <div>\n      <div style={mainHeader}>\n        <h1>Phonebook</h1>\n      </div>\n      <div style={appStyle}>\n        <Notification message={notifyMessage} status={notifyStatus} />\n        <Filter value={nameFilter} handleFilter={handleFilter} />\n        <h2>Add a new</h2>\n        <PersonForm\n          newName={newName}\n          handleNewName={handleNewName}\n          newNumber={newNumber}\n          handleNumber={handleNumber}\n          handleSubmit={handleSubmit}\n        />\n        <h2>Numbers</h2>\n        <Persons\n          persons={persons}\n          nameFilter={nameFilter}\n          handleDelete={handleDelete}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}